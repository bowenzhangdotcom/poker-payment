(this["webpackJsonppoker-payment"]=this["webpackJsonppoker-payment"]||[]).push([[0],{47:function(e,n,t){e.exports={SubmitContainer:"App_SubmitContainer__1B5DM"}},55:function(e,n,t){},60:function(e,n,t){e.exports={DropzoneAreaContainer:"FileSubmit_DropzoneAreaContainer__3mwDz"}},98:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(10),i=t.n(o),s=t(41),c=t(42),u=t(46),l=t(45),d=t(47),p=t.n(d),h=t(59),b=t.n(h),m=t(60),j=t.n(m),v=t(71),f=t(129),y=t(14),O=Object(f.a)({myDropZone:{background:"#f1f1f1",borderColor:"#04957D",minHeight:"200px",borderWidth:"1px",borderStyle:"dashed"},myDropZoneText:{fontSize:"20px",paddingLeft:"2.5%",paddingRight:"2.5%",marginTop:"10%"}});function g(e){var n=O();return Object(y.jsx)("div",{className:j.a.DropzoneAreaContainer,children:Object(y.jsx)(v.a,{onChange:e.handleFileChange,dropzoneText:"Select your PokerNow CSV or drag here",filesLimit:1,showPreviewsInDropzone:!0,useChipsForPreview:!0,dropzoneClass:n.myDropZone,dropzoneParagraphClass:n.myDropZoneText})})}var x=t(55),C=t.n(x),k=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(){return Object(s.a)(this,t),n.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){for(var e=[],n=this.props.data,t=0;t<n.length;t++)e.push(Object(y.jsxs)("div",{className:C.a.TextRow,children:[n[t].Loser," pays ",n[t].Winner," $",n[t].Amount]},t));return Object(y.jsx)("div",{id:"ResultsTable",className:C.a.ResultsTable,children:e})}}]),t}(a.a.Component),_=t(56),D=function(e,n){var t={};"PokerNow"===n&&(t=function(e){for(var n={},t=0;t<e.length;t++){var r=e[t];if(Object.keys(r).length>1){var a="".concat(r.player_nickname," (").concat(r.player_id,")");a in n||(n[a]=0),n[a]+=parseInt(r.net)}}return n}(e.data));for(var r=[],a=[],o=0,i=0,s=Object.keys(t);i<s.length;i++){var c=s[i],u=c,l=t[c],d=[u,l];l<0?r.push(d):a.push(d),o+=l}0!==o&&alert("Your net total doesn't add up to 0");var p=new _.a((function(e,n){return e[1]-n[1]}));p.init(r);var h=new _.a((function(e,n){return n[1]-e[1]}));h.init(a);for(var b=[];p.size()>0&&h.size()>0;){var m={Winner:"",Loser:"",Amount:""},j=p.poll(),v=h.poll();m.Winner=v[0],m.Loser=j[0];var f=v[1]+j[1];f<0&&(m.Amount=v[1],p.add([j[0],f])),f>0?(m.Amount=-j[1],h.add([v[0],f])):m.Amount=v[1],b.push(m)}return b},w=function(e){var n=function(e){var n=e.data[0];if("buy_in"in n&&"buy_out"in n&&"net"in n&&"player_id"in n&&"player_nickname"in n&&"session_end_at"in n&&"session_start_at"in n&&"stack"in n)return"PokerNow";alert("Invalid data source - check that the file is the original export!")}(e);return D(e,n)},A=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=n.call(this,e)).state={},r.handleFileChange=function(e){e.length>0&&b.a.parse(e[0],{header:!0,complete:function(e){var n=w(e);r.setState({processedData:n})}})},r.state={processedData:[{Winner:"Winner1",Loser:"Loser1",Amount:1},{Winner:"Winner2",Loser:"Loser2",Amount:2},{Winner:"Winner3",Loser:"Loser3",Amount:3}]},r}return Object(c.a)(t,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:p.a.Body,children:[Object(y.jsx)("div",{children:"Formatting will be done later"}),Object(y.jsx)("div",{className:p.a.SubmitContainer,children:Object(y.jsx)(g,{handleFileChange:this.handleFileChange})}),Object(y.jsx)("div",{className:p.a.ResultsTable,children:Object(y.jsx)(k,{data:this.state.processedData})})]})}}]),t}(a.a.Component);i.a.render(Object(y.jsx)(A,{}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.3bcde762.chunk.js.map